# VIPæ±‡æº - Web3 é’±åŒ…åº”ç”¨

ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ Web3 é’±åŒ…åº”ç”¨ï¼Œæ”¯æŒè¿æ¥ MetaMask å¹¶ä¸ä»¥å¤ªåŠåŒºå—é“¾äº¤äº’ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- âœ… **é’±åŒ…è¿æ¥**: å®‰å…¨è¿æ¥åˆ° MetaMask é’±åŒ…
- ğŸ’° **ä½™é¢æŸ¥è¯¢**: å®æ—¶æŸ¥çœ‹æ‚¨çš„ ETH ä½™é¢
- ğŸ“¤ **å‘é€äº¤æ˜“**: å‘ä»»ä½•åœ°å€å‘é€ä»¥å¤ªåŠ
- ğŸŒ **å¤šç½‘ç»œæ”¯æŒ**: æ”¯æŒä¸»ç½‘å’Œæµ‹è¯•ç½‘ï¼ˆGoerliã€Sepoliaã€Polygonã€BSCç­‰ï¼‰
- ğŸ¨ **ç°ä»£ UI**: ç¾è§‚çš„æ·±è‰²ä¸»é¢˜ç•Œé¢
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- å®‰è£… [MetaMask](https://metamask.io/download/) æµè§ˆå™¨æ‰©å±•
- ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰

### ä½¿ç”¨æ–¹æ³•

1. å…‹éš†æˆ–ä¸‹è½½æ­¤ä»“åº“
2. ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ `index.html` æ–‡ä»¶
3. ç‚¹å‡»"è¿æ¥ MetaMask"æŒ‰é’®
4. åœ¨ MetaMask å¼¹çª—ä¸­ç¡®è®¤è¿æ¥
5. å¼€å§‹ä½¿ç”¨é’±åŒ…åŠŸèƒ½ï¼

## ğŸ“– ä½¿ç”¨è¯´æ˜

### è¿æ¥é’±åŒ…

1. ç¡®ä¿å·²å®‰è£…å¹¶è§£é” MetaMask
2. ç‚¹å‡»"è¿æ¥ MetaMask"æŒ‰é’®
3. åœ¨å¼¹å‡ºçš„ MetaMask çª—å£ä¸­é€‰æ‹©è¦è¿æ¥çš„è´¦æˆ·
4. ç‚¹å‡»"è¿æ¥"ç¡®è®¤

### æŸ¥çœ‹ä½™é¢

è¿æ¥é’±åŒ…åï¼Œåº”ç”¨ä¼šè‡ªåŠ¨æ˜¾ç¤ºï¼š
- å½“å‰è´¦æˆ·åœ°å€
- è´¦æˆ· ETH ä½™é¢
- å½“å‰è¿æ¥çš„ç½‘ç»œ

### å‘é€äº¤æ˜“

1. åœ¨"å‘é€äº¤æ˜“"å¡ç‰‡ä¸­è¾“å…¥ï¼š
   - æ¥æ”¶åœ°å€ï¼ˆ0x å¼€å¤´çš„ä»¥å¤ªåŠåœ°å€ï¼‰
   - é‡‘é¢ï¼ˆETHï¼‰
2. ç‚¹å‡»"å‘é€äº¤æ˜“"æŒ‰é’®
3. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
4. ç­‰å¾…äº¤æ˜“å®Œæˆ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **HTML5**: é¡µé¢ç»“æ„
- **CSS3**: æ ·å¼è®¾è®¡ï¼ˆæ¸å˜ã€åŠ¨ç”»ã€å“åº”å¼ï¼‰
- **JavaScript (ES6+)**: åº”ç”¨é€»è¾‘
- **Web3/Ethereum**: 
  - `window.ethereum` API (MetaMask Provider)
  - JSON-RPC æ–¹æ³•è°ƒç”¨

## ğŸ” å®‰å…¨è¯´æ˜

- âš ï¸ æœ¬åº”ç”¨é€šè¿‡ MetaMask ä¸åŒºå—é“¾äº¤äº’ï¼Œä¸å­˜å‚¨ä»»ä½•ç§é’¥
- âš ï¸ æ‰€æœ‰äº¤æ˜“éƒ½éœ€è¦åœ¨ MetaMask ä¸­ç¡®è®¤
- âš ï¸ å‘é€äº¤æ˜“å‰è¯·ä»”ç»†æ£€æŸ¥æ¥æ”¶åœ°å€å’Œé‡‘é¢
- âš ï¸ å»ºè®®åœ¨æµ‹è¯•ç½‘ä¸Šå…ˆè¿›è¡Œæµ‹è¯•

## ğŸ“ é¡¹ç›®ç»“æ„

```
viphuiyuan/
â”œâ”€â”€ index.html                    # ä¸» HTML æ–‡ä»¶
â”œâ”€â”€ styles.css                    # æ ·å¼è¡¨
â”œâ”€â”€ app.js                        # åº”ç”¨é€»è¾‘
â”œâ”€â”€ contracts/                    # æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ FeeRouterAdapter.sol     # è´¹ç”¨è·¯ç”±é€‚é…å™¨
â”‚   â”œâ”€â”€ ExampleERC20.sol         # ç¤ºä¾‹ ERC20 ä»£å¸
â”‚   â””â”€â”€ MockRouter.sol           # æµ‹è¯•ç”¨æ¨¡æ‹Ÿè·¯ç”±
â”œâ”€â”€ scripts/                      # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ deploy.js                # åˆçº¦éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ test/                         # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ test_fee_adapter.js      # FeeRouterAdapter æµ‹è¯•
â”œâ”€â”€ hardhat.config.js            # Hardhat é…ç½®
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥é…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸŒ æ”¯æŒçš„ç½‘ç»œ

- Ethereum ä¸»ç½‘ (Chain ID: 0x1)
- Goerli æµ‹è¯•ç½‘ (Chain ID: 0x5)
- Sepolia æµ‹è¯•ç½‘ (Chain ID: 0xaa36a7)
- Polygon ä¸»ç½‘ (Chain ID: 0x89)
- BSC ä¸»ç½‘ (Chain ID: 0x38)
- **OKX Chain ä¸»ç½‘ (Chain ID: 0x42 / 66)**
- **OKX Chain æµ‹è¯•ç½‘ (Chain ID: 0x41 / 65)**
- å…¶ä»–å…¼å®¹ EVM çš„ç½‘ç»œ

### OKX Chain ç½‘ç»œé…ç½®

#### OKX Chain ä¸»ç½‘
- **Chain ID**: 66 (0x42)
- **RPC URL**: https://exchainrpc.okex.org
- **æµè§ˆå™¨**: https://www.oklink.com/okc
- **è´§å¸ç¬¦å·**: OKT

#### OKX Chain æµ‹è¯•ç½‘
- **Chain ID**: 65 (0x41)
- **RPC URL**: https://exchaintestrpc.okex.org
- **æµè§ˆå™¨**: https://www.oklink.com/okc-test
- **è´§å¸ç¬¦å·**: OKT
- **æ°´é¾™å¤´**: [OKX Testnet Faucet](https://www.oklink.com/okc-test/faucet)

### OKX DEX å‚è€ƒåœ°å€

#### Router åœ°å€
- **ä¸»ç½‘/æµ‹è¯•ç½‘**: `0x5C7c3c269629E8aFB9A2E5fefb0e3d477b8Cf82C` (å»ºè®®åœ°å€)

#### Factory åœ°å€
- **ä¸»ç½‘/æµ‹è¯•ç½‘**: å¯é€šè¿‡ Router åˆçº¦æŸ¥è¯¢æˆ–å‚è€ƒ [OKX å®˜æ–¹æ–‡æ¡£](https://www.okx.com/okc/docs)

### ç›¸å…³é“¾æ¥
- [OKX Chain å®˜æ–¹æ–‡æ¡£](https://www.okx.com/okc/docs)
- [OKX Chain åŒºå—æµè§ˆå™¨](https://www.oklink.com/okc)
- [OKX DEX æ–‡æ¡£](https://www.okx.com/okc/docs/dev/quick-start/introduction)

## ğŸ¨ ç•Œé¢é¢„è§ˆ

åº”ç”¨é‡‡ç”¨ç°ä»£æ·±è‰²ä¸»é¢˜è®¾è®¡ï¼Œå…·æœ‰ï¼š
- æ¸å˜è‰²èƒŒæ™¯
- å¡ç‰‡å¼å¸ƒå±€
- å¹³æ»‘åŠ¨ç”»æ•ˆæœ
- å“åº”å¼è®¾è®¡

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] æ·»åŠ äº¤æ˜“å†å²è®°å½•
- [ ] æ”¯æŒ ERC-20 ä»£å¸
- [ ] æ·»åŠ  NFT å±•ç¤º
- [ ] å®ç°å¤šè¯­è¨€æ”¯æŒ
- [ ] æ·»åŠ  Web3Modal æ”¯æŒæ›´å¤šé’±åŒ…

---

## ğŸ”§ æ™ºèƒ½åˆçº¦å¼€å‘ä¸éƒ¨ç½²

æœ¬é¡¹ç›®åŒ…å«åŸºäº Hardhat çš„æ™ºèƒ½åˆçº¦å¼€å‘ç¯å¢ƒï¼Œæ”¯æŒ OKX Chain çš„åˆçº¦éƒ¨ç½²å’ŒéªŒè¯ã€‚

### å‰ç½®è¦æ±‚

- Node.js 16+ å’Œ npm
- ç”¨äºéƒ¨ç½²çš„é’±åŒ…ç§é’¥
- OKX Chain æµ‹è¯•ç½‘æˆ–ä¸»ç½‘çš„ OKTï¼ˆç”¨äº gas è´¹ç”¨ï¼‰

### å®‰è£…ä¾èµ–

```bash
npm install
```

### ç¼–è¯‘åˆçº¦

```bash
npm run compile
# æˆ–
npx hardhat compile
```

### è¿è¡Œæµ‹è¯•

```bash
npm test
# æˆ–
npx hardhat test
```

### éƒ¨ç½²åˆçº¦

#### ç¯å¢ƒå˜é‡é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```bash
# éƒ¨ç½²é’±åŒ…ç§é’¥ï¼ˆè¯·å‹¿æäº¤åˆ° Gitï¼‰
DEPLOYER_PRIVATE_KEY=your_private_key_here

# OKX Chain RPC URLs (å¯é€‰ï¼Œæœ‰é»˜è®¤å€¼)
OKX_RPC_URL=https://exchainrpc.okex.org
OKX_TESTNET_RPC_URL=https://exchaintestrpc.okex.org

# OKX æµè§ˆå™¨ API Key (ç”¨äºåˆçº¦éªŒè¯)
OKX_EXPLORER_API_KEY=your_api_key_here

# Router åœ°å€ (å¯é€‰ï¼Œæœ‰é»˜è®¤å€¼)
OKX_ROUTER_ADDRESS=0x5C7c3c269629E8aFB9A2E5fefb0e3d477b8Cf82C
```

âš ï¸ **å®‰å…¨æç¤º**: 
- æ°¸è¿œä¸è¦å°† `.env` æ–‡ä»¶æˆ–ç§é’¥æäº¤åˆ° Git
- ä½¿ç”¨æµ‹è¯•é’±åŒ…è¿›è¡Œå¼€å‘å’Œæµ‹è¯•
- ç¡®ä¿ `.env` å·²æ·»åŠ åˆ° `.gitignore`

#### éƒ¨ç½²åˆ° OKX Chain æµ‹è¯•ç½‘

```bash
npm run deploy:okx_testnet
# æˆ–
npx hardhat run scripts/deploy.js --network okx_testnet
```

#### éƒ¨ç½²åˆ° OKX Chain ä¸»ç½‘

```bash
npm run deploy:okx
# æˆ–
npx hardhat run scripts/deploy.js --network okx
```

### éªŒè¯åˆçº¦

éƒ¨ç½²åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨ OKX æµè§ˆå™¨ä¸ŠéªŒè¯åˆçº¦ï¼š

```bash
# éªŒè¯ ExampleERC20
npx hardhat verify --network okx_testnet <TOKEN_ADDRESS> "Example Token" "EXMPL" "1000000000000000000000000"

# éªŒè¯ FeeRouterAdapter å®ç°åˆçº¦
npx hardhat verify --network okx_testnet <IMPLEMENTATION_ADDRESS>
```

### FeeRouterAdapter åˆçº¦è¯´æ˜

`FeeRouterAdapter` æ˜¯ä¸€ä¸ª UUPS å¯å‡çº§çš„é€‚é…å™¨åˆçº¦ï¼Œç”¨äºåŒ…è£… UniswapV2 é£æ ¼çš„è·¯ç”±å™¨å¹¶æ”¶å–äº¤æ˜“è´¹ç”¨ã€‚

**ä¸»è¦åŠŸèƒ½**:
- âœ… ä»äº¤æ˜“ä¸­æŒ‰åŸºç‚¹ï¼ˆbasis pointsï¼‰æ”¶å–è´¹ç”¨
- âœ… å°†è´¹ç”¨åˆ†é…ç»™è¿è¥ã€é”€æ¯å’Œå¥–åŠ±åœ°å€
- âœ… UUPS å¯å‡çº§æ¨¡å¼
- âœ… æš‚åœ/æ¢å¤åŠŸèƒ½
- âœ… æ‰€æœ‰è€…å¯é…ç½®è´¹ç”¨å’Œåˆ†é…æ¯”ä¾‹

**åˆçº¦å‚æ•°**:
- `feeBps`: è´¹ç”¨åŸºç‚¹ï¼ˆ1 bps = 0.01%ï¼Œæœ€å¤§ 1000 bps = 10%ï¼‰
- `opsSplit`, `burnSplit`, `rewardsSplit`: è´¹ç”¨åˆ†é…æ¯”ä¾‹ï¼ˆæ€»å’Œå¿…é¡»ä¸º 10000ï¼‰
- Recipients: è´¹ç”¨æ¥æ”¶åœ°å€ï¼ˆops, burn, rewardsï¼‰

### GitHub Actions CI/CD

é¡¹ç›®åŒ…å« GitHub Actions å·¥ä½œæµé…ç½®ï¼Œæ”¯æŒï¼š
- âœ… è‡ªåŠ¨ç¼–è¯‘å’Œæµ‹è¯•åˆçº¦
- âœ… è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç½‘ï¼ˆé€šè¿‡ workflow_dispatchï¼‰
- âœ… å‘å¸ƒæ—¶è‡ªåŠ¨éƒ¨ç½²åˆ°ä¸»ç½‘

#### é…ç½® GitHub Secrets

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ Secretsï¼š
1. `DEPLOYER_PRIVATE_KEY`: éƒ¨ç½²é’±åŒ…çš„ç§é’¥
2. `OKX_EXPLORER_API_KEY`: OKX æµè§ˆå™¨ API å¯†é’¥ï¼ˆç”¨äºéªŒè¯ï¼‰

### è·å– OKX æµ‹è¯•ç½‘ OKT

è®¿é—® [OKX æµ‹è¯•ç½‘æ°´é¾™å¤´](https://www.oklink.com/okc-test/faucet) è·å–æµ‹è¯•ç½‘ OKTã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªä»“åº“æ ¹ç›®å½•çš„ LICENSE æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ•™è‚²æ€§é¡¹ç›®ï¼Œç”¨äºå­¦ä¹  Web3 å¼€å‘ã€‚åœ¨ä½¿ç”¨çœŸå®èµ„é‡‘å‰è¯·å……åˆ†æµ‹è¯•ã€‚
